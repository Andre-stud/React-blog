{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nexport const fetchRegUser = createAsyncThunk(\"regUser/fetchRegUser\", async (userData, _ref) => {\n  let {\n    rejectWithValue\n  } = _ref;\n  try {\n    const responseUser = await fetch(`https://blog.kata.academy/api/users`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json;charset=utf-8'\n      },\n      body: JSON.stringify(userData)\n    });\n    if (!responseUser.ok) {\n      throw new Error(\"responseUser error\");\n    }\n    const user = await responseUser.json();\n    localStorage.setItem('user', user);\n    console.log(responseUser, user);\n    return user;\n  } catch (error) {\n    return rejectWithValue(error.message);\n  }\n});\nexport const fetchSignInUser = createAsyncThunk(\"signInUser/fetchSignInUser\", async (userData, _ref2) => {\n  let {\n    rejectWithValue\n  } = _ref2;\n  try {\n    const responseUser = await fetch(`https://blog.kata.academy/api/users/login`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json;charset=utf-8'\n      },\n      body: JSON.stringify(userData)\n    });\n    if (!responseUser.ok) {\n      throw new Error(\"responseUser error\");\n    }\n    const user = await responseUser.json();\n    localStorage.setItem('user', JSON.stringify(user));\n    console.log(responseUser, user);\n    console.log(localStorage.getItem('user'));\n    return user;\n  } catch (error) {\n    return rejectWithValue(error.message);\n  }\n});\nconst userSlice = createSlice({\n  name: \"userData\",\n  initialState: {\n    userData: [],\n    status: null,\n    error: null\n  },\n  reducers: {\n    addUserData(state, action) {\n      state.userData = action.payload;\n    }\n  },\n  extraReducers: {\n    [fetchRegUser.pending]: state => {\n      state.status = \"loading\";\n      state.error = null;\n    },\n    [fetchRegUser.fulfilled]: (state, actions) => {\n      state.status = \"resolved\";\n      state.userData = actions.payload;\n      // console.log(actions.payload)\n    },\n\n    [fetchRegUser.rejected]: (state, actions) => {\n      state.status = \"rejected\";\n      state.error = actions.payload;\n    },\n    [fetchSignInUser.pending]: state => {\n      state.status = \"loading\";\n      state.error = null;\n    },\n    [fetchSignInUser.fulfilled]: (state, actions) => {\n      state.status = \"resolved\";\n      state.userData = actions.payload;\n      // console.log(actions.payload)\n    },\n\n    [fetchSignInUser.rejected]: (state, actions) => {\n      state.status = \"rejected\";\n      state.error = actions.payload;\n    }\n  }\n});\nexport const {\n  addUserData\n} = userSlice.actions;\nexport default userSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","fetchRegUser","userData","_ref","rejectWithValue","responseUser","fetch","method","headers","body","JSON","stringify","ok","Error","user","json","localStorage","setItem","console","log","error","message","fetchSignInUser","_ref2","getItem","userSlice","name","initialState","status","reducers","addUserData","state","action","payload","extraReducers","pending","fulfilled","actions","rejected","reducer"],"sources":["/Users/andre/Desktop/blog/src/components/store/user-slice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\n\nexport const fetchRegUser = createAsyncThunk(\n  \"regUser/fetchRegUser\",\n  async (userData, { rejectWithValue}) => {\n    try {\n      const responseUser = await fetch(\n        \n        `https://blog.kata.academy/api/users`,\n        {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json;charset=utf-8',\n          },\n          body: JSON.stringify(userData),\n        }\n      );\n\n      if (!responseUser.ok) {\n        throw new Error(\"responseUser error\");\n      }\n\n      const user = await responseUser.json();\n      localStorage.setItem('user', user);\n\n      console.log(responseUser, user);\n\n      return user;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\nexport const fetchSignInUser = createAsyncThunk(\n  \"signInUser/fetchSignInUser\",\n  async (userData, { rejectWithValue}) => {\n    try {\n      const responseUser = await fetch(\n        \n        `https://blog.kata.academy/api/users/login`,\n        {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json;charset=utf-8',\n          },\n          body: JSON.stringify(userData),\n        }\n      );\n\n      if (!responseUser.ok) {\n        throw new Error(\"responseUser error\");\n      }\n\n      const user = await responseUser.json();\n      localStorage.setItem('user', JSON.stringify(user));\n\n      console.log(responseUser, user);\n      console.log(localStorage.getItem('user'));\n\n      return user;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\nconst userSlice = createSlice({\n  name: \"userData\",\n  initialState: {\n    userData: [],\n    status: null,\n    error: null,\n  },\n  reducers: {\n    addUserData(state, action) {\n      state.userData = action.payload;\n    },\n  },\n  extraReducers: {\n    [fetchRegUser.pending]: (state) => {\n      state.status = \"loading\";\n      state.error = null;\n    },\n    [fetchRegUser.fulfilled]: (state, actions) => {\n      state.status = \"resolved\";\n      state.userData = actions.payload;\n      // console.log(actions.payload)\n    },\n    [fetchRegUser.rejected]: (state, actions) => {\n      state.status = \"rejected\";\n      state.error = actions.payload;\n    },\n    [fetchSignInUser.pending]: (state) => {\n      state.status = \"loading\";\n      state.error = null;\n    },\n    [fetchSignInUser.fulfilled]: (state, actions) => {\n      state.status = \"resolved\";\n      state.userData = actions.payload;\n      // console.log(actions.payload)\n    },\n    [fetchSignInUser.rejected]: (state, actions) => {\n      state.status = \"rejected\";\n      state.error = actions.payload;\n    },\n  },\n});\n\nexport const { addUserData } = userSlice.actions;\nexport default userSlice.reducer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}