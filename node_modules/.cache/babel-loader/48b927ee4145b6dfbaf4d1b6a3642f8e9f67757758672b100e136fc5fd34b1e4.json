{"ast":null,"code":"var _jsxFileName = \"/Users/andre/Desktop/blog/src/components/cards-list/cards-list.js\",\n  _s = $RefreshSig$();\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Spin } from 'antd';\nimport { useEffect } from 'react';\nimport { updateDataTickets } from '../store/tickets-slice';\nimport Card from '../card';\nimport './cards-list.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction CardsList(_ref) {\n  _s();\n  let {\n    count\n  } = _ref;\n  const dispatch = useDispatch();\n  let ticketsData = useSelector(state => state.tickets.ticketsData);\n  const tickets = useSelector(state => state.tickets.tickets);\n  const statusTicketsSlice = useSelector(state => state.tickets.status);\n  const checkboxData = useSelector(active => active.checkbox.checkbox);\n  const activeButtonFilter = useSelector(active => active.button.button);\n  useEffect(() => {\n    const activeCheckbox = checkboxData.filter(el => el.isActive === true);\n    const array = [];\n    if (checkboxData[0].isActive === true) {\n      dispatch(updateDataTickets(tickets));\n    }\n    if (checkboxData[0].isActive !== true) {\n      tickets.forEach(element => {\n        activeCheckbox.forEach(el => {\n          if (el.value !== 'all' && element.segments[0].stops.length === el.value && element.segments[1].stops.length === el.value) {\n            array.push(element);\n          }\n        });\n      });\n      dispatch(updateDataTickets(array));\n    }\n  }, [checkboxData, dispatch, tickets]);\n  const activeCheckboxData = checkboxData.filter(el => el.isActive === true);\n  const spiner = activeCheckboxData.length !== 0 && statusTicketsSlice !== 'resolved' ? /*#__PURE__*/_jsxDEV(Spin, {\n    className: \"spiner\",\n    tip: \"Loading\",\n    size: \"large\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 7\n  }, this) : null;\n  const notFoundText = ticketsData.length === 0 && !spiner ? /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"not-found-text\",\n    children: \"\\\"\\u0420\\u0435\\u0439\\u0441\\u043E\\u0432, \\u043F\\u043E\\u0434\\u0445\\u043E\\u0434\\u044F\\u0449\\u0438\\u0445 \\u043F\\u043E\\u0434 \\u0437\\u0430\\u0434\\u0430\\u043D\\u043D\\u044B\\u0435 \\u0444\\u0438\\u043B\\u044C\\u0442\\u0440\\u044B, \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u043E\\\"\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 7\n  }, this) : null;\n  if (statusTicketsSlice === 'resolved' && activeButtonFilter === 'cheapest') {\n    ticketsData = [...ticketsData].sort((a, b) => a.price > b.price ? 1 : -1);\n  }\n  if (statusTicketsSlice === 'resolved' && activeButtonFilter === 'fastest') {\n    ticketsData = [...ticketsData].sort((a, b) => {\n      a = a.segments[0].duration + a.segments[1].duration;\n      b = b.segments[0].duration + b.segments[1].duration;\n      return a > b ? 1 : -1;\n    });\n  }\n  const cards = statusTicketsSlice === 'resolved' && !notFoundText ? ticketsData.slice(0, count).map((element, id) => {\n    const {\n      price,\n      carrier\n    } = element;\n    const flightThere = element.segments[0];\n    const flightBack = element.segments[1];\n    return /*#__PURE__*/_jsxDEV(\"li\", {\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        price: price,\n        carrier: carrier,\n        flightThere: flightThere,\n        flightBack: flightBack\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 15\n      }, this)\n    }, `${count + id} ${carrier}`, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this);\n  }) : null;\n  return /*#__PURE__*/_jsxDEV(\"ul\", {\n    className: \"cards-list\",\n    children: [cards, notFoundText, spiner]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 5\n  }, this);\n}\n_s(CardsList, \"3Zc7/kKXJuhKQzAbfMy+Qty8rDk=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector, useSelector, useSelector];\n});\n_c = CardsList;\nexport default CardsList;\nvar _c;\n$RefreshReg$(_c, \"CardsList\");","map":{"version":3,"names":["useDispatch","useSelector","Spin","useEffect","updateDataTickets","Card","jsxDEV","_jsxDEV","CardsList","_ref","_s","count","dispatch","ticketsData","state","tickets","statusTicketsSlice","status","checkboxData","active","checkbox","activeButtonFilter","button","activeCheckbox","filter","el","isActive","array","forEach","element","value","segments","stops","length","push","activeCheckboxData","spiner","className","tip","size","fileName","_jsxFileName","lineNumber","columnNumber","notFoundText","children","sort","a","b","price","duration","cards","slice","map","id","carrier","flightThere","flightBack","_c","$RefreshReg$"],"sources":["/Users/andre/Desktop/blog/src/components/cards-list/cards-list.js"],"sourcesContent":["import { useDispatch, useSelector } from 'react-redux';\nimport { Spin } from 'antd';\nimport { useEffect } from 'react';\n\nimport { updateDataTickets } from '../store/tickets-slice';\nimport Card from '../card';\n\nimport './cards-list.scss';\n\nfunction CardsList({ count }) {\n  const dispatch = useDispatch();\n\n  let ticketsData = useSelector((state) => state.tickets.ticketsData);\n  const tickets = useSelector((state) => state.tickets.tickets);\n  const statusTicketsSlice = useSelector((state) => state.tickets.status);\n  const checkboxData = useSelector((active) => active.checkbox.checkbox);\n  const activeButtonFilter = useSelector((active) => active.button.button);\n\n  useEffect(() => {\n    const activeCheckbox = checkboxData.filter((el) => el.isActive === true);\n\n    const array = [];\n\n    if (checkboxData[0].isActive === true) {\n      dispatch(updateDataTickets(tickets));\n    }\n\n    if (checkboxData[0].isActive !== true) {\n      tickets.forEach((element) => {\n        activeCheckbox.forEach((el) => {\n          if (\n            el.value !== 'all' &&\n            element.segments[0].stops.length === el.value &&\n            element.segments[1].stops.length === el.value\n          ) {\n            array.push(element);\n          }\n        });\n      });\n      dispatch(updateDataTickets(array));\n    }\n  }, [checkboxData, dispatch, tickets]);\n\n  const activeCheckboxData = checkboxData.filter((el) => el.isActive === true);\n\n  const spiner =\n    activeCheckboxData.length !== 0 && statusTicketsSlice !== 'resolved' ? (\n      <Spin className=\"spiner\" tip=\"Loading\" size=\"large\" />\n    ) : null;\n\n  const notFoundText =\n    ticketsData.length === 0 && !spiner ? (\n      <p className=\"not-found-text\">&quot;Рейсов, подходящих под заданные фильтры, не найдено&quot;</p>\n    ) : null;\n\n  if (statusTicketsSlice === 'resolved' && activeButtonFilter === 'cheapest') {\n    ticketsData = [...ticketsData].sort((a, b) => (a.price > b.price ? 1 : -1));\n  }\n  if (statusTicketsSlice === 'resolved' && activeButtonFilter === 'fastest') {\n    ticketsData = [...ticketsData].sort((a, b) => {\n      a = a.segments[0].duration + a.segments[1].duration;\n      b = b.segments[0].duration + b.segments[1].duration;\n      return a > b ? 1 : -1;\n    });\n  }\n\n  const cards =\n    statusTicketsSlice === 'resolved' && !notFoundText\n      ? ticketsData.slice(0, count).map((element, id) => {\n          const { price, carrier } = element;\n          const flightThere = element.segments[0];\n          const flightBack = element.segments[1];\n\n          return (\n            <li key={`${count + id} ${carrier}`}>\n              <Card price={price} carrier={carrier} flightThere={flightThere} flightBack={flightBack} />\n            </li>\n          );\n        })\n      : null;\n\n  return (\n    <ul className=\"cards-list\">\n      {cards}\n      {notFoundText}\n      {spiner}\n    </ul>\n  );\n}\n\nexport default CardsList;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}